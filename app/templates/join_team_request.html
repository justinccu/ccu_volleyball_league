<!DOCTYPE html>
<html>

<head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
        href="https://fonts.googleapis.com/css2?display=swap&amp;family=Lexend%3Awght%40400%3B500%3B700%3B900&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900" />
    <title>Join Team | 中正排球聯盟</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
</head>

<body>
    <div class="relative flex size-full min-h-screen flex-col bg-gray-50 group/design-root overflow-x-hidden"
        style="--select-button-svg: url('data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724px%27 height=%2724px%27 fill=%27rgb(92,113,138)%27 viewBox=%270 0 256 256%27%3e%3cpath d=%27M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z%27%3e%3c/path%3e%3c/svg%3e'); font-family: Lexend, 'Noto Sans', sans-serif;">
        <div class="layout-container flex h-full grow flex-col">
            <header
                class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#eaedf1] px-10 py-3">
                <div class="flex items-center gap-4 text-[#101418]">
                    <div class="size-4">
                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M24 45.8096C19.6865 45.8096 15.4698 44.5305 11.8832 42.134C8.29667 39.7376 5.50128 36.3314 3.85056 32.3462C2.19985 28.361 1.76794 23.9758 2.60947 19.7452C3.451 15.5145 5.52816 11.6284 8.57829 8.5783C11.6284 5.52817 15.5145 3.45101 19.7452 2.60948C23.9758 1.76795 28.361 2.19986 32.3462 3.85057C36.3314 5.50129 39.7376 8.29668 42.134 11.8833C44.5305 15.4698 45.8096 19.6865 45.8096 24L24 24L24 45.8096Z"
                                fill="currentColor"></path>
                        </svg>
                    </div>
                    <h2 class="text-[#101418] text-lg font-bold leading-tight tracking-[-0.015em]">VolleyApp</h2>
                </div>
                <div class="flex flex-1 justify-end gap-8">
                    <div class="flex items-center gap-9">
                        <a class="text-[#101518] text-sm font-medium"
                            href="{{ url_for('main.dashboard') }}">Dashboard</a>
                        <a class="text-[#101518] text-sm font-medium"
                            href="{{ url_for('main.edit_profile') }}">Profile</a>
                    </div>
                    <button
                        class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 bg-[#eaedf1] text-[#101418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5">
                        <div class="text-[#101418]" data-icon="Bell" data-size="20px" data-weight="regular">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor"
                                viewBox="0 0 256 256">
                                <path
                                    d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z">
                                </path>
                            </svg>
                        </div>
                    </button>
                    <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10"
                        style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuCe6moHFIxsCrxOJ7EIpmCs3yBOSfYUNMrniX40sa1cSXvgJN95KVq3NlX7NfFio4CIfUoxJrp4M8a82JV19cMLZV3J0Ofrmp88xljIuhF5cPfZdZjdYF93U-_qLRG_IURBWmPGwzzE-9r61Pp68HKIvniAQYTB_2WvcAugN76SX5qshVhQOWR2ehTNvyhcrkMjeA6mf0ZuNSkbpnoslnO1N5ciFES9v5z8I9KoZiwNE5NRdDfBCLDQLBmPeCBuBl7sC-0rnab-PC8");'>
                    </div>
                </div>
            </header>
            <div class="px-40 flex flex-1 justify-center py-5">
                <div class="layout-content-container flex flex-col max-w-[960px] flex-1">

                    <div class="flex flex-wrap justify-between gap-3 p-4">
                        <p class="text-[#101418] tracking-light text-[32px] font-bold leading-tight min-w-72">
                            Join a Team
                        </p>
                    </div>
                    {% if current_user.team %}
                    <div class="bg-green-50 border border-green-200 text-green-900 rounded-xl px-5 py-4 mb-6">
                        <p class="font-semibold">你已經是 {{ current_user.team.name }} 隊的一員，無法再次申請。</p>
                    </div>
                    {% elif pending_request %}
                    <div class="bg-yellow-50 border border-yellow-200 text-yellow-900 rounded-xl px-5 py-4 mb-6">
                        <p>你已提出加入 <strong>{{ pending_request.team.name }}</strong> 的申請，請等待該隊隊長審核。</p>
                    </div>
                    {% else %}
                    <form method="POST" class="flex flex-col gap-6">
                        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
                            <label class="flex flex-col min-w-40 flex-1">
                                <select name="team_id" required
                                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#101418] focus:outline-0 focus:ring-0 border border-[#d4dbe2] bg-gray-50 focus:border-[#d4dbe2] h-14 bg-[image:--select-button-svg] placeholder:text-[#5c718a] p-[15px] text-base font-normal leading-normal">
                                    <option value="">Select a team</option>
                                    {% for team in teams %}
                                    <option value="{{ team.id }}">
                                        {{ team.name }} ({{ team.team_type }} - {{ team.team_cycle or '未分組' }})
                                    </option>
                                    {% endfor %}
                                </select>
                            </label>
                        </div>
                        <div class="flex justify-stretch">
                            <div class="flex flex-1 gap-3 flex-wrap px-4 py-3 justify-between">
                                <a href="{{ url_for('main.dashboard') }}">
                                    <button type="button"
                                        class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#eaedf1] text-[#101418]">
                                        <span class="truncate">Back to Dashboard</span>
                                    </button>
                                </a>
                                <button type="submit"
                                    class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#b2cae5] text-[#101418]">
                                    <span class="truncate">Submit Request</span>
                                </button>
                            </div>
                        </div>
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</body>

</html>