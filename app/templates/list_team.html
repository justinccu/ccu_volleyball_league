<!DOCTYPE html>
<html>
<head>
    <title>éšŠä¼æˆå“¡ä¸€è¦½</title>
    <script>
        function filterTeams() {
            const type = document.getElementById('team_type').value;
            const cycle = document.getElementById('team_cycle').value;
            const teamBlocks = document.getElementsByClassName('team-block');

            for (const block of teamBlocks) {
                const blockType = block.getAttribute('data-type');
                const blockCycle = block.getAttribute('data-cycle');

                const show = (type === 'å…¨éƒ¨' || blockType === type) &&
                             (cycle === 'å…¨éƒ¨' || blockCycle === cycle);
                block.style.display = show ? 'block' : 'none';
            }
        }
    </script>
    <style>
        .flash-message {
            margin-top: 20px;
        }
        .text-red {
            color: red;
            font-weight: bold;
        }
        .text-green {
            color: green;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h2>ğŸ éšŠä¼æˆå“¡æŸ¥è©¢</h2>

    <label>éšŠä¼é¡å‹ï¼š</label>
    <select id="team_type" onchange="filterTeams()">
        <option value="å…¨éƒ¨">å…¨éƒ¨</option>
        <option value="ç”·æ’">ç”·æ’</option>
        <option value="å¥³æ’">å¥³æ’</option>
    </select>

    <label>å°çµ„ï¼š</label>
    <select id="team_cycle" onchange="filterTeams()">
        <option value="å…¨éƒ¨">å…¨éƒ¨</option>
        <option value="A">A</option>
        <option value="B">B</option>
    </select>

    <hr>
    {% for team in teams %}
    <div class="team-block" data-type="{{ team.team_type }}" data-cycle="{{ team.team_cycle }}" style="margin-bottom: 20px;">
        <h3>{{ team.name }} ({{ team.team_type }} - {{ team.team_cycle or 'æœªåˆ†çµ„' }})</h3>
        <ul>
            {% if team.captain %}
            <li><strong>éšŠé•·</strong>: {{ team.captain.name }} ({{ team.captain.username }})</li>
            {% endif %}
            {% for member in team.members %}
                {% if member.id != team.captain_id %}
                <li><strong>éšŠå“¡</strong>: {{ member.name }} ({{ member.username }})</li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
    {% endfor %}

    <script>
        document.addEventListener('DOMContentLoaded', filterTeams);
    </script>
    <br><a href="/dashboard">å›ä¸»é </a>
</body>
</html>
